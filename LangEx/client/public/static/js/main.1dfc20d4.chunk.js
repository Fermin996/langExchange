(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,a,t){e.exports=t(61)},33:function(e,a,t){},58:function(e,a,t){},61:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(25),s=t.n(l),c=(t(33),t(2)),o=t(3),i=t(5),m=t(4),u=t(6),p=t(64),d=t(63),g=t(8),h=t.n(g),v=function(e){e?h.a.defaults.headers.common.Authorization=e:delete h.a.defaults.headers.common.Authorization},b=function(){localStorage.removeItem("jwtToken"),v(!1)},E=t(13),f=t.n(E),N=t(62),y=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(i.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).onLogoutClick=function(e){e.preventDefault(),b(),window.location.href="/"},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=r.a.createElement("div",{className:"navbar-nav"},r.a.createElement("a",{href:"localhost:3000",onClick:this.onLogoutClick,className:"nav-item nav-link"},"Logout"),r.a.createElement(N.a,{className:"nav-item nav-link",to:"/myProfile"},"Profile"),r.a.createElement(N.a,{className:"nav-item nav-link",to:"/search"},"Search Users")),a=r.a.createElement("div",{className:"navbar-nav"},r.a.createElement(N.a,{className:"nav-item nav-link",to:"/login"},"Login ",r.a.createElement("span",{className:"sr-only"},"(current)")),r.a.createElement(N.a,{className:"nav-item nav-link",to:"/register"},"Sign Up"));return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement(N.a,{className:"navbar-brand",to:"/"},"SlangSwap"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup"},localStorage.jwtToken?e:a))}}]),a}(n.Component),w=function(e){function a(){return Object(c.a)(this,a),Object(i.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=r.a.createElement("div",{className:"centrify text-center"},r.a.createElement("h1",{className:"display-3"},"SlangSwap"),r.a.createElement("p",{className:"lead"},"Learn a Language, Connect Internationally"),r.a.createElement("hr",null),r.a.createElement(N.a,{to:"/register",className:"btn btn-lg btn-info mr-2"},"Sign Up"),r.a.createElement(N.a,{to:"/login",className:"btn btn-lg btn-light"},"Login")),a=r.a.createElement("div",{className:"centrify-alt text-center"},r.a.createElement("h1",{className:"display-5"},"Want to Practice a Language?"),r.a.createElement("p",{className:"lead"},"Find A Language partner to practice with!"),r.a.createElement("hr",null),r.a.createElement(N.a,{to:"/search",className:"btn btn-lg btn-info mr-2"},"Search"));return r.a.createElement("div",{className:"landing"},r.a.createElement("div",{className:"dark-overlay landing-inner text-light"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},localStorage.jwtToken?a:e))))}}]),a}(n.Component),j=function(){return r.a.createElement("footer",{className:"bg-dark text-white mt-5 p-4 text-center"},"Copyright \xa9 ",(new Date).getFullYear()," LangApp")},O=t(14),k=t(9),S=t.n(k),C=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(i.a)(this,Object(m.a)(a).call(this))).onChange=function(a){e.setState(Object(O.a)({},a.target.name,a.target.value))},e.onSubmit=function(a){a.preventDefault();var t={email:e.state.email,password:e.state.password};console.log(t),h.a.post("/api/users/login",t).then(function(e){var a=e.data.token;localStorage.setItem("jwtToken",a),v(a),window.location.href="/myProfile"}).catch(function(a){return e.setState({errors:a.response.data})})},e.state={email:"",password:"",errors:{}},e}return Object(u.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){localStorage.jwtToken&&this.props.history.push("/myProfile")}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.onSubmit,className:"logForm"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email address"),r.a.createElement("input",{type:"email",className:S()("form-control",{"is-invalid":e.email}),name:"email",value:this.state.name,onChange:this.onChange,"aria-describedby":"emailHelp",placeholder:"Enter email"}),e.email&&r.a.createElement("div",{className:"invalid-feedback"},e.email)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",className:S()("form-control",{"is-invalid":e.password}),name:"password",value:this.state.name,onChange:this.onChange,placeholder:"Password"}),e.password&&r.a.createElement("div",{className:"invalid-feedback"},e.password)),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit")))}}]),a}(n.Component),x=t(16),L=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(i.a)(this,Object(m.a)(a).call(this))).onChange=function(a){e.setState(Object(O.a)({},a.target.name,a.target.value))},e.onSubmit=function(a){a.preventDefault();var t=Object(x.a)({},e.state);h.a.post("/api/users/register",t).then(function(a){e.props.history.push("/login")}).catch(function(a){return e.setState({errors:a.response.data})})},e.state={name:"",email:"",imageUrl:"",password:"",password2:"",language:"",language2:"",country:"",errors:{}},e}return Object(u.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){localStorage.jwtToken&&(console.log("worked"),this.props.history.push("/dash"))}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("div",null,r.a.createElement("form",{className:"regForm",onSubmit:this.onSubmit,encType:"multipart/form-data"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Name"),r.a.createElement("input",{type:"text",className:S()("form-control",{"is-invalid":e.name}),name:"name",value:this.state.name,onChange:this.onChange,placeholder:"Name"}),e.name&&r.a.createElement("div",{className:"invalid-feedback"},e.name)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Email address"),r.a.createElement("input",{type:"email",className:S()("form-control",{"is-invalid":e.email}),name:"email",value:this.state.email,onChange:this.onChange,"aria-describedby":"emailHelp",placeholder:"Enter email"}),e.email&&r.a.createElement("div",{className:"invalid-feedback"},e.email)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",className:S()("form-control",{"is-invalid":e.password}),name:"password",value:this.state.password,onChange:this.onChange,placeholder:"Password"}),e.password&&r.a.createElement("div",{className:"invalid-feedback"},e.password)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Repeat Password"),r.a.createElement("input",{type:"password",className:S()("form-control",{"is-invalid":e.password2}),name:"password2",value:this.state.password2,onChange:this.onChange,placeholder:"Repeat Password"}),e.password2&&r.a.createElement("div",{className:"invalid-feedback"},e.password2)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Native Language"),r.a.createElement("input",{type:"text",className:S()("form-control",{"is-invalid":e.language}),name:"language",value:this.state.language,onChange:this.onChange,placeholder:"Native Language"}),e.language&&r.a.createElement("div",{className:"invalid-feedback"},e.language)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"I want to Practice"),r.a.createElement("input",{type:"text",className:S()("form-control",{"is-invalid":e.language2}),name:"language2",value:this.state.language2,onChange:this.onChange,placeholder:"Type the language you want to practice"}),e.language2&&r.a.createElement("div",{className:"invalid-feedback"},e.language2)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Country of Origin"),r.a.createElement("input",{type:"text",className:S()("form-control",{"is-invalid":e.country}),name:"country",value:this.state.country,onChange:this.onChange,placeholder:"ex: United States"}),e.country&&r.a.createElement("div",{className:"invalid-feedback"},e.country)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Upload Profile Picture"),r.a.createElement("input",{type:"file",name:"imageUrl",onChange:this.onChange,value:this.state.imageUrl,className:"form-control"})),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit")))}}]),a}(n.Component),M=function(e){function a(){return Object(c.a)(this,a),Object(i.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this,a=this.props.messages;return r.a.createElement("ul",{className:"Messages-list"},a.map(function(a){return e.renderMessage(a)}))}},{key:"renderMessage",value:function(e){var a=e.member,t=e.text,n=this.props.currentMember,l=a.id===n.id?"Messages-message currentMember":"Messages-message";return r.a.createElement("li",{className:l},r.a.createElement("span",{className:"avatar",style:{backgroundColor:a.clientData.color}}),r.a.createElement("div",{className:"Message-content"},r.a.createElement("div",{className:"username"},a.clientData.username),r.a.createElement("div",{className:"text"},t)))}}]),a}(n.Component),P=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(i.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={text:""},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"onChange",value:function(e){this.setState({text:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault(),this.setState({text:""}),this.props.onSendMessage(this.state.text)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"Input"},r.a.createElement("form",{onSubmit:function(a){return e.onSubmit(a)},className:"input-form"},r.a.createElement("input",{className:"text-input",onChange:function(a){return e.onChange(a)},value:this.state.text,type:"text",placeholder:"Enter your message and press ENTER",autoFocus:!0}),r.a.createElement("button",{className:"send-button"},"Send")))}}]),a}(n.Component);if(localStorage.jwtToken)var A=f()(localStorage.jwtToken);else A="";var T=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(i.a)(this,Object(m.a)(a).call(this))).state={messages:[],member:{username:A.name,color:"#"+Math.floor(16777215*Math.random()).toString(16)}},e.onSendMessage=function(a){e.drone.publish({room:"observable-room",message:a})},e.drone=new window.Scaledrone("WxgBXps4Rt5ZwEHc",{data:e.state.member}),e.drone.on("open",function(a){if(a)return console.error(a);var t=Object(x.a)({},e.state.member);t.id=e.drone.clientId,e.setState({member:t})}),e.drone.subscribe("observable-room").on("data",function(a,t){var n=e.state.messages;n.push({member:t,text:a}),e.setState({messages:n})}),e}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=r.a.createElement("div",{className:"chat-app"},r.a.createElement(M,{messages:this.state.messages,currentMember:this.state.member}),r.a.createElement(P,{onSendMessage:this.onSendMessage})),a=r.a.createElement("div",{className:"chat-fail"},r.a.createElement("h1",null,"You are not logged in. "),r.a.createElement("span",null,r.a.createElement(N.a,{to:"/register",className:"btn btn-lg btn-info mr-2"},"Sign Up"),r.a.createElement(N.a,{to:"/login",className:"btn btn-lg btn-light"},"Login")));return r.a.createElement("div",null,localStorage.jwtToken?e:a)}}]),a}(n.Component),D=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(i.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={intro:"",occupation:"",interests:"",age:"",errors:{}},t.onChange=function(e){t.setState(Object(O.a)({},e.target.name,e.target.value))},t.onSubmit=function(e){e.preventDefault();var a=Object(x.a)({},t.state);console.log(a),h.a.post("/api/profile",a).then(function(e){console.log(e),window.location.href="/myProfile"}).catch(function(e){t.setState({errors:e.response.data}),console.log(e.response.data)})},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("div",null,r.a.createElement("h2",{className:"aytchetwo"},"Create and Edit Your Profile!"),r.a.createElement("form",{onSubmit:this.onSubmit,className:"prof-input"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"intro"},"Self intro"),r.a.createElement("input",{type:"text",className:"form-control",id:"intro",name:"intro",placeholder:"Write something about yourself :-)",value:this.state.intro,onChange:this.onChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"occupation"},"Occupation"),r.a.createElement("input",{type:"text",className:"form-control",id:"occupation",name:"occupation",value:this.state.occupation,onChange:this.onChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"interests"},"Interests"),r.a.createElement("input",{type:"text",className:S()("form-control",{"is-invalid":e.interests}),id:"interests",name:"interests",value:this.state.interests,onChange:this.onChange}),e.interests&&r.a.createElement("div",{className:"invalid-feedback"},e.interests)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"age"},"Age"),r.a.createElement("input",{type:"text",className:"form-control",id:"Age",name:"age",value:this.state.age,onChange:this.onChange})),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Done")))}}]),a}(n.Component),I=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(i.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={user:{}},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"componentWillMount",value:function(){var e=this,a=this.props.match.params.id;h.a.get("/api/profile/user/".concat(a)).then(function(a){var t=a.data;e.setState({user:t})}).catch(function(e){console.log(e.response.data)})}},{key:"render",value:function(){var e=this.state.user.user;return e?r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("div",{className:"profile-div"},r.a.createElement("div",{className:"still-trying"},r.a.createElement("img",{src:e.imageUrl,alt:"profile pic",className:"pring"}),r.a.createElement("h2",null,e.name),r.a.createElement("div",{className:"language-grid"},r.a.createElement("p",null,"Native Language:",r.a.createElement("b",null,e.language)),r.a.createElement("p",null," Learning:   ",r.a.createElement("b",null,e.language2)),r.a.createElement(N.a,{to:"/chat",className:"still-btn btn btn-lg btn-light"},"Chat")))),r.a.createElement("div",{className:"intro-style"},r.a.createElement("h2",null,"Self-Intro"),r.a.createElement("p",null,this.state.user.intro)),r.a.createElement("div",{className:"prof-boxes"},r.a.createElement("div",{className:"occ-div"},r.a.createElement("h2",null,"Occupation"),r.a.createElement("p",null,this.state.user.occupation)),r.a.createElement("div",{className:"int-div"},r.a.createElement("h2",null,"Interests"),r.a.createElement("p",null,this.state.user.interests))))):r.a.createElement("p",null,"LOADING")}}]),a}(n.Component),U=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(i.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={users:{userList:[]}},t.onChange=function(e){t.state.userList.forEach(function(a){return""!==e.target.value&&e.target.value===a.user.language?void 0:(console.log("working"),console.log(a.user),a.user=null)})},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;h.a.get("/api/profile/all").then(function(a){e.setState({userList:a.data})}).catch(function(e){console.log(e.response.data)})}},{key:"render",value:function(){if(!this.state.userList)return r.a.createElement("p",null,"LOADING");var e=f()(localStorage.jwtToken);return r.a.createElement("div",null,this.state.userList.map(function(a,t){return a.user.language===e.language2?r.a.createElement("div",{className:"card",key:a._id},r.a.createElement("img",{src:a.user.imageUrl,className:"card-adjust",alt:"profile pic"}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},r.a.createElement(N.a,{to:"/profile/".concat(a.user._id)},a.user.name)),r.a.createElement("p",{className:"card-text"},a.intro))):r.a.createElement("p",{key:a._id})}))}}]),a}(n.Component),F=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(i.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={user:{}},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;h.a.get("/api/profile").then(function(a){var t=a.data;e.setState({user:t})}).catch(function(e){console.log(e.response.data)})}},{key:"render",value:function(){var e=f()(localStorage.jwtToken);return r.a.createElement("div",null,r.a.createElement("div",{className:"profile-div"},r.a.createElement("div",{className:"still-trying"},r.a.createElement("img",{src:e.imageUrl,alt:"profile pic",className:"pring"}),r.a.createElement("h2",null,e.name),r.a.createElement("div",{className:"language-grid"},r.a.createElement("p",null,"Native Language: ",r.a.createElement("b",null,e.language)),r.a.createElement("p",null," Learning:   ",r.a.createElement("b",null,e.language2)),r.a.createElement(N.a,{to:"/myProfile/edit",className:"still-btn btn btn-lg btn-light"},"Edit")))),r.a.createElement("div",{className:"intro-style"},r.a.createElement("h2",null,"Self-Intro"),r.a.createElement("p",null,this.state.user.intro)),r.a.createElement("div",{className:"prof-boxes"},r.a.createElement("div",{className:"occ-div"},r.a.createElement("h2",null,"Occupation"),r.a.createElement("p",null,this.state.user.occupation)),r.a.createElement("div",{className:"int-div"},r.a.createElement("h2",null,"Interests"),r.a.createElement("p",null,this.state.user.interests))))}}]),a}(n.Component);t(58);if(localStorage.jwtToken){v(localStorage.jwtToken);var W=f()(localStorage.jwtToken),R=Date.now()/1e3;W.exp<R&&(b(),window.location.href="/login")}var B=function(e){function a(){return Object(c.a)(this,a),Object(i.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(y,null),r.a.createElement(d.a,{exact:!0,path:"/",component:w}),r.a.createElement("div",{className:"container"},r.a.createElement(d.a,{exact:!0,path:"/register",component:L}),r.a.createElement(d.a,{exact:!0,path:"/login",component:C}),r.a.createElement(d.a,{exact:!0,path:"/chat",component:T}),r.a.createElement(d.a,{exact:!0,path:"/myProfile",component:F}),r.a.createElement(d.a,{exact:!0,path:"/myProfile/edit",component:D}),r.a.createElement(d.a,{exact:!0,path:"/profile/:id",component:I}),r.a.createElement(d.a,{exact:!0,path:"/search",component:U})),r.a.createElement(j,null)))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[27,2,1]]]);
//# sourceMappingURL=main.1dfc20d4.chunk.js.map